<div class="page-width">
  <div class="container">
    <div class="row">
      <div class="col-dk-8 col-dk-push-2">
        {% assign lines = section.settings.title | newline_to_br | split: '<br />' %}
        <h1 class="h1">
          {% for line in lines %}
          <span>{{ line }}</span>
          {% unless forloop.last %}
          <br />
          {% endunless %}
          {% endfor %}
        </h1>
      </div>
    </div>
      <div class="row row--contact">
      <div class="col-dk-8 col-dk-push-2">
        <div class="row">
          <div class="col-tb-6 col-lg-4">
            <h6 class="h6--eyebrow--blue">Email</h6>
            <p><a href="mailto:info@roverrobotics.com">info@roverrobotics.com</a></p>
          </div>
          <div class="col-tb-6 col-lg-4">
            <h6 class="h6--eyebrow--blue">Phone</h6>
            <p>
              <a href="tel:833.768.3776">833.768.3776</a>
            </p>
          </div>

          <div class="col-tb-6 col-lg-4">
            <h6 class="h6--eyebrow--blue">Corporate Headquarters</h6>
            <p>Rover Robotics <br> 294 Grove Ln E Suite 200 <br>Wayzata, MN 55391</p>
          </div>
        </div>

        <div class="row" id="quote-container">
              <form action="https://quote.roverrobotics.com/" method="post" id="quote-form">
                <div class="grid" >
                  <div class="grid_item medium-up--one-half">
                    <label for="quote-name"> Name </label>
                    <input type="text" id="quote-name" style="size: 100;" name="quote-name" placeholder="Name" required>
                  </div>
                  <div class="grid_item medium-up--one-half">
                    <label for="quote-email"> Email </label>
                    <input type="text" id="quote-email" style="size: 100;" name="quote-email" placeholder="Email" required>
                  </div>
                  <div class="grid_item medium-up--one-half">
                    <label for="quote-phone"> Phone </label>
                    <input type="text" id="quote-phone" style="size: 100;" name="quote-phone" placeholder="Phone" required>
                  </div>
                  <div class="grid_item medium-up--one-half">
                    <label for="quote-company">Company/University</label>
                    <input type="text" id="quote-company" style="size: 100;" name="quote-company" placeholder="Organization name" required>
                  </div>
                  <div class="grid_item medium-up--one-half">
                    <label for="quote-state"> Country</label>
                  <select name="quote-country" id="quote-country" required>
                    <option value="" selected disabled hidden>Select Country</option>
                    <option value="US">United States</option>
                  	<option value="UK">United Kingdom</option>
                  </select>
                </div>

                <div class="grid_item medium-up--one-half">
                  <label for="quote-state"> State</label>
                  <select name="quote-state" id="quote-state" required>
                    <option value="" selected disabled hidden>Select State</option>
                    <option value="AL">Alabama</option>
                    <option value="AK">Alaska</option>
                    <option value="AZ">Arizona</option>
                    <option value="AR">Arkansas</option>
                    <option value="CA">California</option>
                    <option value="CO">Colorado</option>
                    <option value="CT">Connecticut</option>
                    <option value="DE">Delaware</option>
                    <option value="DC">District Of Columbia</option>
                    <option value="FL">Florida</option>
                    <option value="GA">Georgia</option>
                    <option value="HI">Hawaii</option>
                    <option value="ID">Idaho</option>
                    <option value="IL">Illinois</option>
                    <option value="IN">Indiana</option>
                    <option value="IA">Iowa</option>
                    <option value="KS">Kansas</option>
                    <option value="KY">Kentucky</option>
                    <option value="LA">Louisiana</option>
                    <option value="ME">Maine</option>
                    <option value="MD">Maryland</option>
                    <option value="MA">Massachusetts</option>
                    <option value="MI">Michigan</option>
                    <option value="MN">Minnesota</option>
                    <option value="MS">Mississippi</option>
                    <option value="MO">Missouri</option>
                    <option value="MT">Montana</option>
                    <option value="NE">Nebraska</option>
                    <option value="NV">Nevada</option>
                    <option value="NH">New Hampshire</option>
                    <option value="NJ">New Jersey</option>
                    <option value="NM">New Mexico</option>
                    <option value="NY">New York</option>
                    <option value="NC">North Carolina</option>
                    <option value="ND">North Dakota</option>
                    <option value="OH">Ohio</option>
                    <option value="OK">Oklahoma</option>
                    <option value="OR">Oregon</option>
                    <option value="PA">Pennsylvania</option>
                    <option value="RI">Rhode Island</option>
                    <option value="SC">South Carolina</option>
                    <option value="SD">South Dakota</option>
                    <option value="TN">Tennessee</option>
                    <option value="TX">Texas</option>
                    <option value="UT">Utah</option>
                    <option value="VT">Vermont</option>
                    <option value="VA">Virginia</option>
                    <option value="WA">Washington</option>
                    <option value="WV">West Virginia</option>
                    <option value="WI">Wisconsin</option>
                    <option value="WY">Wyoming</option>
                  </select>
                </div>

                  <div class="grid_item medium-up--one-half">
                    <label for="quote-address"> Address</label>
                    <input type="text" id="quote-address" style="size: 100;" name="quote-address" placeholder="Address" required>
                  </div>

                  <div class="grid_item medium-up--one-half">
                    <label for="quote-city"> City</label>
                    <input type="text" id="quote-city" style="size: 100;" name="quote-city" placeholder="City" required>
                  </div>

                  <div class="grid_item medium-up--one-half">
                    <label for="quote-zipcode">Zipcode</label>
                    <input type="text" id="quote-zipcode" style="size: 100;" name="quote-zipcode" placeholder="Zipcode" required>
                  </div>
                   <input type="hidden" id="cart-data" name="cart-data" value="">
                   <h2>Shipping Information</h2>
                      <br>
                      <br>
                    <div id="shipping-same" style="background-color: #000; color: #fff;" class="button">Shipping Information is the same as billing.</div>
                      <br>
                      <br>
                      <div class="grid_item medium-up--one-half">
                        <label for="quote-company"> Company/University</label>
                        <input type="text" id="quote-company-shipping" style="size: 100;" name="quote-company-shipping" placeholder="Organization name" required>
                      </div>
                      <div class="grid_item medium-up--one-half">
                        <label for="quote-phone-shipping"> Phone </label>
                        <input type="text" id="quote-phone-shipping" style="size: 100;" name="quote-phone-shipping" placeholder="Phone" required>
                      </div>
                      <div class="grid_item medium-up--one-half">
                        <label for="quote-address"> Address</label>
                        <input type="text" id="quote-address-shipping" style="size: 100;" name="quote-address-shipping" placeholder="Address" required>
                      </div>

                      <div class="grid_item medium-up--one-half">
                        <label for="quote-city"> City</label>
                        <input type="text" id="quote-city-shipping" style="size: 100;" name="quote-city-shipping" placeholder="City" required>
                      </div>

                      <div class="grid_item medium-up--one-half">
                        <label for="quote-state-shipping"> Country</label>
                      <select name="quote-country-shipping" id="quote-country-shipping" required>
                        <option value="" selected disabled hidden>Select Country</option>
                        <option value="US">United States</option>
                        <option value="UK">United Kingdom</option>
                      </select>
                    </div>

                      <div class="grid_item medium-up--one-half">
                        <label for="quote-state-shipping"> State</label>
                      <select name="quote-state-shipping" id="quote-state-shipping" required>
                        <option value="" selected disabled hidden>Select State</option>
                      	<option value="AL">Alabama</option>
                      	<option value="AK">Alaska</option>
                      	<option value="AZ">Arizona</option>
                      	<option value="AR">Arkansas</option>
                      	<option value="CA">California</option>
                      	<option value="CO">Colorado</option>
                      	<option value="CT">Connecticut</option>
                      	<option value="DE">Delaware</option>
                      	<option value="DC">District Of Columbia</option>
                      	<option value="FL">Florida</option>
                      	<option value="GA">Georgia</option>
                      	<option value="HI">Hawaii</option>
                      	<option value="ID">Idaho</option>
                      	<option value="IL">Illinois</option>
                      	<option value="IN">Indiana</option>
                      	<option value="IA">Iowa</option>
                      	<option value="KS">Kansas</option>
                      	<option value="KY">Kentucky</option>
                      	<option value="LA">Louisiana</option>
                      	<option value="ME">Maine</option>
                      	<option value="MD">Maryland</option>
                      	<option value="MA">Massachusetts</option>
                      	<option value="MI">Michigan</option>
                      	<option value="MN">Minnesota</option>
                      	<option value="MS">Mississippi</option>
                      	<option value="MO">Missouri</option>
                      	<option value="MT">Montana</option>
                      	<option value="NE">Nebraska</option>
                      	<option value="NV">Nevada</option>
                      	<option value="NH">New Hampshire</option>
                      	<option value="NJ">New Jersey</option>
                      	<option value="NM">New Mexico</option>
                      	<option value="NY">New York</option>
                      	<option value="NC">North Carolina</option>
                      	<option value="ND">North Dakota</option>
                      	<option value="OH">Ohio</option>
                      	<option value="OK">Oklahoma</option>
                      	<option value="OR">Oregon</option>
                      	<option value="PA">Pennsylvania</option>
                      	<option value="RI">Rhode Island</option>
                      	<option value="SC">South Carolina</option>
                      	<option value="SD">South Dakota</option>
                      	<option value="TN">Tennessee</option>
                      	<option value="TX">Texas</option>
                      	<option value="UT">Utah</option>
                      	<option value="VT">Vermont</option>
                      	<option value="VA">Virginia</option>
                      	<option value="WA">Washington</option>
                      	<option value="WV">West Virginia</option>
                      	<option value="WI">Wisconsin</option>
                      	<option value="WY">Wyoming</option>
                      </select>
                    </div>
                      <div class="grid_item medium-up--one-half">
                        <label for="quote-zipcode">Zipcode</label>
                        <input type="text" id="quote-zipcode-shipping" style="size: 100;" name="quote-zipcode-shipping" placeholder="Zipcode" required>
                      </div>
                </div>

                <input type="submit" class="btn">
                <br>
              </form>
            </div>
            <br>
            <hr>
            <br>
            <table id="quote-table" class="table table--cart table--responsive">
              <tbody>
                {% for item in cart.items %}
                <tr>
                  <td class="cart__image">
                    <a href="{{ item.product.url }}">
                      <div class="image">
                        <img src="{{ item.image | img_url: 'large' }}" />
                      </div>
                    </a>
                  </td>
                  <td>
                    <h5><a href="{{ item.product.url }}">{{ item.product.title }}</a></h5>
                    {% unless item.variant.title contains 'Default' %}
                    <ul class="cart__options">
                      {% for option in item.product.options %}
                      <li>
                        <span class="label">{{ option }}:</span>
                        <span class="val">{{ item.variant.options[forloop.index0] }}</span>
                      </li>
                      {% endfor %}
                    </ul>
                    {% endunless %}

                  </td>
                  <td class="cart__price-qty">
                    <span class="label">Price:&nbsp;&nbsp;&nbsp;</span>
                    <span class="cart__price">{{ item.price | money }}</span><br /><br />
                    <span class="label">Qty: {{ item.quantity }}</span>
                  </td>
                </tr>
                <tr class="spacer">
                  <td></td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  jQuery.getJSON('/cart.js', function(cart) { // now have access to Shopify cart object
      console.log(cart)
      $("#cart-data").val(JSON.stringify(cart))
      var urlParams = new URLSearchParams(window.location.search);
      if (urlParams.has('submitted')) {
        $('#quote-form').hide()
        $("#quote-table").hide()
        $("#quote-container").append(
          "<h1 style='margin-top:50px;'>Thank You!</h1> <br> <p>You'll recive an email shortly with a quote</p>")
      }
  });

  $("#shipping-same").click((function() {
    var company = $('#quote-company').val()
    var phone = $('#quote-phone').val()
    var address = $('#quote-address').val()
    var country = $('#quote-country').val()
    var city = $('#quote-city').val()
    var state = $('#quote-state').val()
    var zip = $('#quote-zipcode').val()
    $('#quote-country-shipping').val(country)
    $('#quote-company-shipping').val(company)
    $('#quote-phone-shipping').val(phone)
    $('#quote-address-shipping').val(address)
    $('#quote-city-shipping').val(city)
    $('#quote-state-shipping').val(state)
    $('#quote-zipcode-shipping').val(zip)
  }))

  $('#quote-country').change(function(e) {
    if (e.target.value == "UK") {

      $('#quote-state').attr('disabled', 'disabled')
      $('#quote-state').val('')
      $("#quote-state-shipping").attr('disabled', 'disabled')
      $("#quote-state-shipping").val('')
    }
    else {
      $('#quote-state').removeAttr('disabled')
      $("#quote-state-shipping").removeAttr('disabled')
    }
  });


</script>

{% schema %}
  {
    "name": "Quote Request",
    "class": "section section--contact",
    "settings": [
      {
        "id": "title",
        "type": "textarea",
        "label": "Title",
        "default": "Quote Request"
      },
      {
        "id": "hero_copy",
        "type": "textarea",
        "label": "Hero Copy"
      },
      {
        "id": "email",
        "type": "text",
        "label": "Email"
      },
      {
        "id": "phone",
        "type": "text",
        "label": "Phone"
      },
      {
        "id": "hq",
        "type": "textarea",
        "label": "Headquarters"
      }
    ]
  }
{% endschema %}
